<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <c:set value="#{systemController.access('ADMIN_RH_TRAINING')}" var="ADMIN_RH_TRAINING"/>
    <h:form id="TrainingList">
        <p:panel header="#{NODE_TITLE}">
            <v-table id="traininglist" value="#{trainingController.dataModel}" var="row"
                     selection="#{trainingController.selectedList}"
                     paginator="true"
                     rowIndexVar="riv"
                     rowKey="#{row.id}"
                     rows="50"
                     rowsPerPageTemplate="50,100,150,200"
                     scrollable="true"
                     lazy="true"
                     >

                <f:facet name="header">
                    <v-button id="createButton" v-if="#{ADMIN_RH_TRAINING}" icon="ui-icon-plus" styleClass="on" value="#{bundle.Create}" actionListener="#{viewParam.x(trainingController.prepareCreate()).include('/rh/training/Create.xhtml').o('TrainingCreate').set('UPDATE','TrainingList')}" />
                    <v-button id="editButton" v-if="#{ADMIN_RH_TRAINING}" icon="ui-icon-pencil" value="#{bundle.Edit}" actionListener="#{viewParam.include('/rh/training/Create.xhtml').o('TrainingCreate').set('UPDATE','TrainingList')}" />
                    <v-button id="deleteButton" v-if="#{ADMIN_RH_TRAINING}" icon="ui-icon-trash"  value="#{bundle.Delete}" actionListener="#{escdemeritoController.destroy}" update=":growl,traininglist" />
                </f:facet>
                <td class="center" width="28" >
                    <f:facet name="header">
                        <h:outputText value="#"/>
                    </f:facet>
                    <h:outputText value="#{riv+1}" title="#{row.id}">
                        <f:convertNumber pattern="000" />
                    </h:outputText>
                </td>
                <td width="200" filterBy="#{sessionController.pp['document']}">
                    <f:facet name="filter" >
                        <p:inputText  value="#{sessionController.pp['document']}" />
                    </f:facet>
                    <f:facet name="header">
                        <h:outputText value="#{bundle.Document}"/>
                    </f:facet>
                    {{row.document}}
                </td>
                <td width="200" filterBy="#{sessionController.pp['mencion']}">
                    <f:facet name="filter" >
                        <p:inputText  value="#{sessionController.pp['mencion']}" />
                    </f:facet>
                    <f:facet name="header">
                        <h:outputText value="#{bundle.Mencion}"/>
                    </f:facet>
                    <h:outputText value="#{row.mencion}"/>
                </td>
                <td width="80" class="center" filterBy="#{sessionController.pp['fechaIni']}">
                    <f:facet name="filter" >
                        <p:inputText type="hidden" id="fechaIni"  class="x-date-filter"  value="#{sessionController.pp['fechaIni']}" />
                    </f:facet>
                    <f:facet name="header">
                        <h:outputText value="#{bundle.FechaIni}"/>
                    </f:facet>
                    <h:outputText value="#{row.fecha}">
                        <f:convertDateTime pattern="dd/MM/yyyy"  />
                    </h:outputText>
                </td>
                <td width="80" class="center" filterBy="#{sessionController.pp['fechaDem']}">
                    <f:facet name="filter" >
                        <p:inputText type="hidden" id="fechaDem"  class="x-date-filter"  value="#{sessionController.pp['fechaDem']}" />
                    </f:facet>
                    <f:facet name="header">
                        <h:outputText value="#{bundle.FechaDem}"/>
                    </f:facet>
                    <h:outputText value="#{row.fechaDem}">
                        <f:convertDateTime pattern="dd/MM/yyyy"  />
                    </h:outputText>
                </td>
                <td width="200" filterBy="#{sessionController.pp['activo']}">
                    <f:facet name="filter" >
                        <p:inputText  value="#{sessionController.pp['activo']}" />
                    </f:facet>
                    <f:facet name="header">
                        <h:outputText value="#{bundle.Activo}"/>
                    </f:facet>
                    <h:outputText value="#{row.activo}"/>
                </td>
                <td width="200" filterBy="#{sessionController.pp['observation']}">
                    <f:facet name="filter" >
                        <p:inputText  value="#{sessionController.pp['observation']}" />
                    </f:facet>
                    <f:facet name="header">
                        <h:outputText value="#{bundle.Observation}"/>
                    </f:facet>
                    <h:outputText value="#{row.observation}"/>
                </td>
                <td/>
            </v-table>
        </p:panel>
    </h:form>


</html>
